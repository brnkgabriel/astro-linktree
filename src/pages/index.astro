---
import MainLayout from "@/layouts/MainLayout.astro";
import Avatar from "@/components/Avatar.astro";
import FeaturedCardsLayout from "@/layouts/FeaturedCardsLayout.astro";
import FeaturedCard from "@/components/FeaturedCard.astro";
import LinksLayout from "@/layouts/LinksLayout.astro";
import Link from "@/components/Link.astro";
import Social from "@/components/Social.astro";


let links = []

try {
  links = await Astro.glob("./links/*.md");
} catch (error) {
  links = []
}
---

<MainLayout>
	<Avatar />
	<FeaturedCardsLayout>
		<FeaturedCard
			iconName="logos:patreon"
			 link="https://www.patreon.com/stefanrows"
			 title="Support us"
		/>
		<FeaturedCard
			iconName="logos:discord-icon"
			 link="https://discord.com"
			 title="Join the Community!"
		/> 
	</FeaturedCardsLayout>
	<LinksLayout>
    {
      links.map(link => {
        return (
          <Link
            title={link.frontmatter.title}
            description={link.frontmatter.description}
            url={link.frontmatter.url}
          />
        )
      })
    }
	</LinksLayout>
  <Social />
</MainLayout>